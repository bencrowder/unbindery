{% extends '_base.html' %}

{% block bodyid %} id="install"{% endblock %}
{% block banner %}{% endblock %}
{% block footer %}{% endblock %}

{% block page %}
<div class="container">
	<div id="install_box" class="box">
		{% if status != 'failed' %}
		<h2>{{ i18n.t('install.title') }}</h2>

		<ol>
			<li>{{ i18n.t('install.step1')|raw }}</li>
			<li>{{ i18n.t('install.step2')|raw }}</li>
			<li>{{ i18n.t('install.step3')|raw }}</li>
			<li>{{ i18n.t('install.step4')|raw }}</li>
			<li>{% if external_login %}{{ i18n.t('install.step5_external')|raw }}{% else %}{{ i18n.t('install.step5')|raw }}{% endif %}</li>
		</ol>

		<form id="install_form" action="{{ app_url }}/install" method="post" accept-charset="utf-8">
			<label>{{ i18n.t('install.admin_username') }}</label>
			<input type="text" id="username" name="username" autocomplete="off" />

			{% if not external_login %}
			<label>{{ i18n.t('install.admin_password') }}</label>
			<input type="password" id="password" name="password" autocomplete="off" />
			{% endif %}

			<div id='error'>{{ i18n.t('install.error') }}</div>

			<input type="submit" value="{{ i18n.t('install.install_unbindery') }}" class="button" />
		</form>
		{% else %}
		<h2>{{ i18n.t('install.failed') }}</h2>

		<ol>
			<li>{{ i18n.t('install.failed.step1') }}</li>
			<li>{{ i18n.t('install.failed.step2') }}</li>
			<li>{{ i18n.t('install.failed.step3') }}</li>
		</ol>
		{% endif %}
	</div>
</div>
{% endblock %}
